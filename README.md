# bilibili-lofi-girl-audio-player
## 重要声明 / IMPORTANT Note    
### 中文     
本项目的代码全部由AI（豆包、千问、Kimi）生成，README文件由我与AI共同完成。    

### English    
The code for this project was entirely generated by AI (Doubao, Qwen, and Kimi), and the README file was co-authored by me and AI.   

## 简介 / Introduction
### 中文
本工具是专为B站Lofi Girl直播间打造的音频提取播放程序，由Python开发并打包为独立EXE。可实时拉取直播间音频流，转码为PotPlayer兼容的ADTS格式，通过本地HTTP服务流式播放，自带预加载、日志记录和自动资源清理，轻量且使用便捷。

### English
This tool is an audio extraction and playback program specially built for Bilibili Lofi Girl's live room. Developed in Python and packaged as a standalone EXE. It can pull the live room audio stream in real time, transcode it to ADTS format compatible with PotPlayer, play it via local HTTP service, and comes with preloading, log recording and automatic resource cleaning features, being lightweight and easy to use.

## 准备工作 / Preparation
### 1. 安装依赖库 / Install Dependencies
#### 中文
需通过pip安装streamlink库，打开powershell执行：`pip install streamlink`

#### English
Install the streamlink library via pip. Open powershell and execute: `pip install streamlink`

### 2. 安装必备软件 / Install Required Software
#### 中文
- 安装FFmpeg（建议64位最新版）
- 安装PotPlayer（优先64位，需包含PotPlayerMini64可执行文件）

#### English
- Install FFmpeg (64-bit latest version recommended)
- Install PotPlayer (64-bit preferred, must include PotPlayerMini64 executable file)

### 3. 加入系统PATH（二选一即可） / Add to System PATH (Choose One)
#### 中文
- 方式1：安装软件时勾选**添加到系统PATH**（如果有这个选项）；
- 方式2：手动配置，右键此电脑→属性→高级系统设置→环境变量，在「用户变量」或「系统变量」中找到**Path**并双击，点击「新建」粘贴软件可执行文件所在目录路径，依次点击「确定」保存配置。

#### English
- Method 1: Check the box for **Add to system PATH** during software installation (if available);
- Method 2: Manual configuration - Right-click "This PC" → Properties → Advanced system settings → Environment Variables. Find **Path** in "User variables" or "System variables" and double-click it. Click "New" to paste the directory path of the software executable file, then click "OK" in sequence to save the configuration.

## 运行说明 / Running Instructions
### 中文
1. 程序分两个版本，`bilibili_lofi-girl_audio_player_v12`运行时会显示控制器终端窗口，可查看关键运行信息；`bilibili_lofi-girl_audio_player_v12-w`运行时无任何控制器窗口，为静默运行模式。
2. 程序启动后PotPlayer不会立刻正常加载播放，因存在音频流拉取和预加载过程，一般会在程序运行30秒至1分钟后自动启动并播放音频。
3. 程序运行日志会自动写入本地，所有运行日志（含调试、错误信息）均可查看，Windows系统下日志路径为：C:\Users\【你的用户名】\AppData\Local\bilibili_audio_player\logs；日志文件按`bilibili_audio_时间戳_exeprogram.log`命名，支持日志轮转，单文件最大10MB，保留5个备份文件。

### English
1. The program has two versions: `bilibili_lofi-girl_audio_player` displays a controller terminal window during operation for viewing key running information; `bilibili_lofi-girl_audio_player-w` runs in silent mode without any controller window.
2. PotPlayer will not load and play normally immediately after the program starts. Due to the audio stream pulling and preloading process, it will generally start automatically and play audio 30 seconds to 1 minute after the program start running.
3. Program running logs are automatically written to the local machine, and all logs (including debugging and error information) are viewable. On Windows, the log path is: C:\Users\[Your Username]\AppData\Local\bilibili_audio_player\logs; log files are named in the format `bilibili_audio_timestamp_exeprogram.log`, support log rotation, with a maximum size of 10MB per file and 5 backup files retained.

## 注意事项 / Notes
### 中文
1. 程序默认占用本地8765端口，运行前请确保该端口未被其他软件占用，否则HTTP服务启动失败。
2. 关闭PotPlayer播放器后，程序会自动清理相关进程和资源并退出，无需手动关闭程序进程。
3. 本工具仅适用于Windows系统，暂不支持Linux、macOS等其他操作系统。
4. 工具仅作个人学习和自用，请勿用于商业用途，使用过程请遵守B站直播平台相关协议。
5. 若PotPlayer启动后无音频，可检查直播间是否静音，或通过日志文件排查流拉取、转码环节的问题。
6. 请勿随意修改程序文件，若需调整直播间ID、端口等配置，需修改源码后重新打包生成EXE文件。
7. 程序运行时需保证网络通畅，网络波动可能导致音频卡顿、断流，可重启程序解决。

### English
1. The program occupies local port 8765 by default. Ensure this port is not used by other software before running, otherwise the HTTP service will fail to start.
2. After closing the PotPlayer player, the program will automatically clean up related processes and resources and exit; there is no need to manually close the program process.
3. This tool is only applicable to the Windows system and does not support Linux, macOS or other operating systems for the time being.
4. This tool is for personal study and use only, not for commercial purposes. Please comply with relevant agreements of the Bilibili live streaming platform during use.
5. If there is no audio after PotPlayer starts, check if the live room is muted, or troubleshoot issues in stream pulling and transcoding through log files.
6. Do not modify the program files at will. If you need to adjust configurations such as live room ID and port, modify the source code and repackage to generate an EXE file.
7. Ensure a stable network connection when the program is running. Network fluctuations may cause audio stuttering or disconnection, which can be resolved by restarting the program.

## 开发者说明 / Developer Notes
### 中文
- `final_bilibili_audio_v12(source-code).py`：项目初始核心源码，为基础开发版本；
- `final_bilibili_audio_v12(packed).py`：针对PyInstaller打包做了专属优化的源码版本，`Bilibili_Lofi-girl_audio_player_v12.exe`由该文件打包生成；
- `final_bilibili_audio_v12(packed-w).py`：在打包优化版基础上做了去控制器窗口的优化，`Bilibili_Lofi-girl_audio_player_v12-w.exe`由该文件打包生成。

### English
- `final_bilibili_audio_v12(source-code).py`: The initial core source code of the project, the basic development version;
- `final_bilibili_audio_v12(packed).py`: The source code version optimized exclusively for PyInstaller packaging, `Bilibili_Lofi-girl_audio_player_v12.exe` is packaged and generated from this file;
- `final_bilibili_audio_v12(packed-w).py`: Optimized to remove the controller window based on the packaged optimized version, `Bilibili_Lofi-girl_audio_player_v12-w.exe` is packaged and generated from this file.
